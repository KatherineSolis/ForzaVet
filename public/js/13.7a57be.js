(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"2lQa":function(e,t,n){"use strict";var r=n("CJe1");n.n(r).a},"7sWw":function(e,t,n){var r=n("VyIk");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},CJe1:function(e,t,n){var r=n("d0Uo");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},FpkO:function(e,t,n){var r=n("x6Ds");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,a);r.locals&&(e.exports=r.locals)},Grjm:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),i=n("yXPU"),o=n.n(i),s=n("J4zp"),l=n.n(s),u=n("rywy");function c(e){return Object(u.a)({url:"/personal/update/"+e.id,method:"post",data:e})}var d=n("HF+U");function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={components:{Pagination:n("k9pt").a},directives:{waves:d.a},data:function(){var e=this;return{tableKey:0,total:0,listQuery:{page:1,limit:20,importance:void 0,name:void 0,type:void 0,sort:"+id"},listLoading:!1,list:null,showReviewer:!1,dialogFormVisible:!1,dialogStatus:"",textMap:{update:"Editar",create:"Crear"},rules:{name:[{required:!0,message:"type is required",trigger:"change"}],document_type:[{required:!0,message:"type is required",trigger:"change"}],document_number:[{required:!0,message:"type is required",trigger:"change"},{min:10,message:"El campo requiere de 10 digitos",trigger:["blur","change"]},{max:13,message:"Este campo acepta máximo 13 digitos",trigger:["blur","change"]},{validator:function(t,n,r){"Cedula"===document.getElementById("document_type").value?!0!==e.verificarCedula(n)&&10==n.length?r(new Error("Número de cédula es inválido")):n.length>10?r(new Error("La Cédula requiere de 10 digitos")):"create"===e.dialogStatus?Object.entries(e.list).forEach((function(e){var t=l()(e,2),a=(t[0],t[1]);n===a.document_number?(console.log("La cedula ya se encuentra resgistrada"),r(new Error("Número de cédula ya está registrado"))):r()})):r():!0!==e.verificacionRuc(n)&&13==n.length?r(new Error("Número de RUC es inválido")):n.length>=10&&n.length<13?r(new Error("El RUC requiere de 13 digitos")):"create"===e.dialogStatus?Object.entries(e.list).forEach((function(e){var t=l()(e,2),a=(t[0],t[1]);n===a.document_number?r(new Error("Número de RUC ya está registrado")):r()})):r()},trigger:"blur"}],first_name:[{required:!0,message:"type is required",trigger:"change"},{pattern:/^[A-Z]+$/i,message:"Solo se puede ingresar letras",trigger:"blur"}],last_name:[{required:!0,message:"type is required",trigger:"change"},{pattern:/^[A-Z]+$/i,message:"Solo se puede ingresar letras",trigger:"blur"}],direction:[{required:!0,message:"type is required",trigger:"change"}],email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}],phone:[{required:!0,message:"type is required",trigger:"change"},{min:7,message:"El campo requiere de 7 digitos",trigger:["blur","change"]},{max:10,message:"Este campo acepta máximo 10 digitos",trigger:["blur","change"]},{pattern:/^\d*$/,message:"Solo se puede ingresar número",trigger:"blur"}]},temp:{id:void 0,name:"",observation:""},options:[{value:"Cedula",label:"Cedula"},{value:"RUC",label:"RUC"}]}},created:function(){this.getList()},methods:{handleFilter:function(){this.listQuery.page=1,this.getList()},getList:function(){var e=this;return o()(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.listLoading=!0,t.next=3,a=e.listQuery,Object(u.a)({url:"/personal",method:"get",params:a});case 3:n=t.sent,r=n.data,e.list=r.items,e.total=r.total,e.listLoading=!1;case 8:case"end":return t.stop()}var a}),t)})))()},sortChange:function(e){var t=e.prop,n=e.order;"id"===t&&this.sortByID(n)},resetTemp:function(){this.temp={id:void 0,name:"",observation:""}},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs.dataForm.clearValidate()}))},createData:function(){var e=this;this.$refs.dataForm.validate((function(t){var n;t&&(e.temp.id=e.list[e.list.length-1].id+1,e.temp.status=1,(n=e.temp,Object(u.a)({url:"/personal/create",method:"post",data:n})).then((function(t){e.list.push(e.temp),e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Created successfully",type:"success",duration:2e3})})))}))},updateData:function(){var e=this;this.$refs.dataForm.validate((function(t){t&&(console.log(e.temp),c(e.temp).then((function(){var t,n=p(e.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e.temp.id){var a=e.list.indexOf(r);e.list.splice(a,1,e.temp);break}}}catch(e){n.e(e)}finally{n.f()}e.dialogFormVisible=!1,e.$notify({title:"Success",message:"Updated successfully",type:"success",duration:2e3})})))}))},handleModifyStatus:function(e,t){var n=this;return o()(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.listLoading=!0,e.status=t,r.next=4,c(e);case 4:n.$message({message:"Successful operation",type:"success"}),n.listLoading=!1;case 6:case"end":return r.stop()}}),r)})))()},handleUpdate:function(e){var t=this;this.temp=Object.assign({},e),this.temp.timestamp=new Date(this.temp.timestamp),this.dialogStatus="update",this.dialogFormVisible=!0,this.$nextTick((function(){t.$refs.dataForm.clearValidate()}))},verificarCedula:function(e){if("string"==typeof e&&10==e.length&&/^\d+$/.test(e)){var t=e.split("").map(Number),n=10*t[0]+t[1];if(n>=1&&(n<=24||30==n)){var r=t.pop();return t.reduce((function(e,t,n){return e-t*(2-n%2)%9-9*(9==t)}),1e3)%10===r}}return!1},verificacionRuc:function(e){for(var t,n=!1,r=!1,a=!1,i=11,o=1,s=0;s<e.length&&1==o;s++){var l=parseInt(e.charAt(s));isNaN(l)&&(o=0)}if(0==o)return!1;if(e.length<10)return!1;var u=e.substr(0,2);if(u<1||u>24)return!1;var c=e.substr(0,1),d=e.substr(1,1),p=e.substr(2,1),m=e.substr(3,1),f=e.substr(4,1),g=e.substr(5,1),v=e.substr(6,1),h=e.substr(7,1),b=e.substr(8,1),y=e.substr(9,1);if(7==p||8==p)return!1;if(p<6)a=!0,(w=2*c)>=10&&(w-=9),(_=1*d)>=10&&(_-=9),(x=2*p)>=10&&(x-=9),(k=1*m)>=10&&(k-=9),(S=2*f)>=10&&(S-=9),(C=1*g)>=10&&(C-=9),(E=2*v)>=10&&(E-=9),($=1*h)>=10&&($-=9),(q=2*b)>=10&&(q-=9),i=10;else if(6==p){r=!0;var w=3*c,_=2*d,x=7*p,k=6*m,S=5*f,C=4*g,E=3*v,$=2*h,q=0}else 9==p&&(n=!0,w=4*c,_=3*d,x=2*p,k=7*m,S=6*f,C=5*g,E=4*v,$=3*h,q=2*b);var z=0==(t=(w+_+x+k+S+C+E+$+q)%i)?0:i-t;if(1==r){if(z!=b)return console.log("publica"),!1;if("0001"!=e.substr(9,4))return console.log("publica"),!1}else if(1==n){if(z!=y)return console.log("sector privado"),!1;if("001"!=e.substr(10,3))return console.log("sector privado"),!1}else if(1==a){if(z!=y)return console.log("persona natural es incorrecto"),!1;if(e.length>10&&"001"!=e.substr(10,3))return console.log("persona natural"),!1}return!0}}},g=(n("fTwE"),n("KHd+")),v=Object(g.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mixin-components-container"},[n("el-row",[n("el-card",{staticClass:"box-card",staticStyle:{height:"90vh"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v("Veterinarios")])]),e._v(" "),n("div",{staticStyle:{"margin-bottom":"50px"}},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"Nombre"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.listQuery.name,callback:function(t){e.$set(e.listQuery,"name",t)},expression:"listQuery.name"}}),e._v(" "),n("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("\n            "+e._s(e.$t("table.search"))+"\n          ")]),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v("\n            "+e._s(e.$t("table.add"))+"\n          ")])],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange}},[n("el-table-column",{attrs:{label:"Tipo de documento",prop:"document_type",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.document_type))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Numero de documento",prop:"document_number",align:"center",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.document_number))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Nombre",prop:"name",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.first_name)+" "+e._s(t.row.last_name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Direccion",prop:"direction",align:"center","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.direction))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Telefono",prop:"phone",align:"center",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.phone))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Estado","class-name":"status-col",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.status?n("div",[n("el-tag",{staticClass:"tag-item el-tag el-tag--medium el-tag--light",attrs:{type:"success"}},[n("i",{staticClass:"el-icon-open"}),e._v(" Activo\n              ")])],1):n("div",[n("el-tag",{attrs:{type:"danger"}},[n("i",{staticClass:"el-icon-turn-off"}),e._v(" Inactivo\n              ")])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Acciones",align:"center",width:"330","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit-outline",size:"small"},on:{click:function(t){return e.handleUpdate(r)}}}),e._v(" "),1==r.status?n("el-button",{attrs:{icon:"el-icon-turn-off",size:"small",type:"danger"},on:{click:function(t){return e.handleModifyStatus(r,0)}}},[e._v("\n              Inactivar\n            ")]):e._e(),e._v(" "),0==r.status?n("el-button",{attrs:{icon:"el-icon-open",size:"small",type:"success"},on:{click:function(t){return e.handleModifyStatus(r,1)}}},[e._v("\n              Activar\n            ")]):e._e()]}}])})],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),e._v(" "),n("el-dialog",{staticStyle:{"min-width":"50vh"},attrs:{title:e.textMap[e.dialogStatus],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"dataForm",staticStyle:{padding:"0px 30px"},attrs:{rules:e.rules,model:e.temp}},[n("el-form-item",{attrs:{label:"Tipo:",prop:"document_type"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{id:"document_type",placeholder:"Seleccionar"},model:{value:e.temp.document_type,callback:function(t){e.$set(e.temp,"document_type",t)},expression:"temp.document_type"}},e._l(e.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:"Número:",prop:"document_number"}},[n("el-input",{model:{value:e.temp.document_number,callback:function(t){e.$set(e.temp,"document_number",t)},expression:"temp.document_number"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Nombre:",prop:"first_name"}},[n("el-input",{model:{value:e.temp.first_name,callback:function(t){e.$set(e.temp,"first_name",t)},expression:"temp.first_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Apellido:",prop:"last_name"}},[n("el-input",{model:{value:e.temp.last_name,callback:function(t){e.$set(e.temp,"last_name",t)},expression:"temp.last_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Dirección",prop:"direction"}},[n("el-input",{model:{value:e.temp.direction,callback:function(t){e.$set(e.temp,"direction",t)},expression:"temp.direction"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Correo",prop:"email"}},[n("el-input",{model:{value:e.temp.email,callback:function(t){e.$set(e.temp,"email",t)},expression:"temp.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Teléfono",prop:"phone"}},[n("el-input",{model:{value:e.temp.phone,callback:function(t){e.$set(e.temp,"phone",t)},expression:"temp.phone"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n            "+e._s(e.$t("table.cancel"))+"\n          ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n            "+e._s(e.$t("table.confirm"))+"\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,"465347fd",null);t.default=v.exports},"HF+U":function(e,t,n){"use strict";n("7sWw");var r="@@wavesContext";function a(e,t){function n(n){var r=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),i=a.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var o=i.getBoundingClientRect(),s=i.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":((s=document.createElement("span")).className="waves-ripple",s.style.height=s.style.width=Math.max(o.width,o.height)+"px",i.appendChild(s)),a.type){case"center":s.style.top=o.height/2-s.offsetHeight/2+"px",s.style.left=o.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(n.pageY-o.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(n.pageX-o.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=a.color,s.className="waves-ripple z-active",!1}}return e[r]?e[r].removeHandle=n:e[r]={removeHandle:n},n}var i={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[r].removeHandle,!0),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[r].removeHandle,!1),e[r]=null,delete e[r]}},o=function(e){e.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(o)),i.install=o;t.a=i},VyIk:function(e,t,n){(t=n("JPst")(!1)).push([e.i,".waves-ripple {\r\n    position: absolute;\r\n    border-radius: 100%;\r\n    background-color: rgba(0, 0, 0, 0.15);\r\n    background-clip: padding-box;\r\n    pointer-events: none;\r\n    -webkit-user-select: none;\r\n    -moz-user-select: none;\r\n    -ms-user-select: none;\r\n    user-select: none;\r\n    -webkit-transform: scale(0);\r\n    transform: scale(0);\r\n    opacity: 1;\r\n}\r\n\r\n.waves-ripple.z-active {\r\n    opacity: 0;\r\n    -webkit-transform: scale(2);\r\n    transform: scale(2);\r\n    -webkit-transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, -webkit-transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out;\r\n    transition: opacity 1.2s ease-out, transform 0.6s ease-out, -webkit-transform 0.6s ease-out;\r\n}",""]),e.exports=t},d0Uo:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"\n.pagination-container[data-v-c82e8de8] {\r\n  background: #fff;\r\n  padding: 32px 16px;\n}\n.pagination-container.hidden[data-v-c82e8de8] {\r\n  display: none;\n}\r\n",""]),e.exports=t},fTwE:function(e,t,n){"use strict";var r=n("FpkO");n.n(r).a},k9pt:function(e,t,n){"use strict";Math.easeInOutQuad=function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function a(e,t,n){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,i=e-a,o=0;t=void 0===t?500:t;!function e(){o+=20;var s,l=Math.easeInOutQuad(o,a,i,t);s=l,document.documentElement.scrollTop=s,document.body.parentNode.scrollTop=s,document.body.scrollTop=s,o<t?r(e):n&&"function"==typeof n&&n()}()}var i={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,15,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&a(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&a(0,800)}}},o=(n("2lQa"),n("KHd+")),s=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[n("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)}),[],!1,null,"c82e8de8",null);t.a=s.exports},x6Ds:function(e,t,n){(t=n("JPst")(!1)).push([e.i,"\n.mixin-components-container[data-v-465347fd] {\r\n  background-color: #f0f2f5;\r\n  padding: 30px;\r\n  min-height: calc(100vh - 84px);\n}\n.component-item[data-v-465347fd] {\r\n  min-height: 100px;\n}\r\n",""]),e.exports=t}}]);