(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"4FMd":function(t,e,n){var a=n("8CAg");"string"==typeof a&&(a=[[t.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(a,i);a.locals&&(t.exports=a.locals)},"5Lp+":function(t,e,n){"use strict";var a=n("4FMd");n.n(a).a},"8CAg":function(t,e,n){(e=n("JPst")(!1)).push([t.i,"\n.line[data-v-7ec6dc44]{\r\n  text-align: center;\n}\r\n",""]),t.exports=e},nzZ3:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return s}));var a=n("rywy");function i(t){return Object(a.a)({url:"/histories",method:"get",params:t})}function r(t){return Object(a.a)({url:"/history/create",method:"post",data:t})}function o(t){return Object(a.a)({url:"/history/update/"+t.id,method:"post",data:t})}function c(t){return Object(a.a)({url:"/peluquerias",method:"get",params:t})}function s(t){return Object(a.a)({url:"/peluqueria/create/"+t,method:"post",data:t})}},xCiW:function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return r})),n.d(e,"k",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return f})),n.d(e,"h",(function(){return m}));var a=n("rywy");function i(t){return Object(a.a)({url:"/citas",method:"get",params:t})}function r(t){return Object(a.a)({url:"/cita/create",method:"post",data:t})}function o(t){return Object(a.a)({url:"/cita/update/"+t.id,method:"post",data:t})}function c(){return Object(a.a)({url:"/cita/personals",method:"get"})}function s(){return Object(a.a)({url:"/cita/client",method:"get"})}function l(t){return Object(a.a)({url:"/cita/pet",method:"get",params:t})}function u(){return Object(a.a)({url:"/cita/vaccine",method:"get"})}function d(){return Object(a.a)({url:"/cita/antiparasitic",method:"get"})}function p(t){return Object(a.a)({url:"/cita/consultar/"+t,method:"post",data:t})}function f(t){return Object(a.a)({url:"/cita/history/"+t,method:"post",data:t})}function m(){return Object(a.a)({url:"/cita/list/pet",method:"get"})}},xVpm:function(t,e,n){"use strict";n.r(e);var a=n("o0o1"),i=n.n(a),r=n("yXPU"),o=n.n(r),c=n("xCiW"),s=n("nzZ3"),l={data:function(){return{listLoading:!1,list:null,optionsClient:[],optionsPet:[],optionsVaccine:[],options:[{value:"Baño",label:"Baño"},{value:"Corte",label:"Corte"},{value:"Limpieza dental",label:"Limpieza dental"},{value:"Baño Medicado",label:"Baño medicado"},{value:"Baño y corte",label:"Baño y corte"},{value:"Baño medicado y corte",label:"Baño medicado y corte"}],rules:{client_id:[{required:!0,message:"Este campo es requerido",trigger:"change"}],pet_id:[{required:!0,message:"Este campo es requerido",trigger:"change"}],vaccine_id:[{required:!0,message:"Este campo es requerido",trigger:"change"}]},form:{date:"",personal_id:"",client_id:"",pet_id:"",reason:"",anamnesis:"",vaccine_id:"",vaccine_observation:"",antiparasitic_id:"",antiparasitic_observation:"",diagnostic:"",pathology:"",treatment:"",prescription:""}}},created:function(){var t=this.$route.params&&this.$route.params.id;console.log(this.$route.params),console.log(this.$route),this.getList(),this.getListClient(),this.getListPet(),this.getPeluqueria(t),this.getListVaccine()},methods:{onCancel:function(){this.$message({message:"cancel!",type:"warning"})},getList:function(){var t=this;return o()(i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(s.b)();case 3:n=e.sent,a=n.data,t.list=a.items,t.listLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},getListClient:function(){var t=this;return o()(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(c.b)();case 3:for(r in n=e.sent,(a=n.data).items)t.optionsClient.push({value:a.items[r].id,label:a.items[r].first_name+" "+a.items[r].last_name});t.listLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},getListPet:function(){var t=this;return o()(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(c.h)();case 3:for(r in n=e.sent,a=n.data,t.optionsPet=[],a.items)t.optionsPet.push({value:a.items[r].id,label:a.items[r].name});t.listLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},getListVaccine:function(){var t=this;return o()(i.a.mark((function e(){var n,a,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(c.e)();case 3:for(r in n=e.sent,(a=n.data).items)t.optionsVaccine.push({value:a.items[r].id,label:a.items[r].name_vaccines});t.listLoading=!1;case 7:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;this.$refs.form.validate((function(e){if(e){var n=new Date,a="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()," ").concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds());t.form.id=t.list[t.list.length-1].id+1,t.form.status=1,t.form.date=a,t.form.reason="Vacunación",Object(s.a)(t.form).then((function(e){t.list.push(t.form),t.$notify({title:"Success",message:"Created successfully",type:"success",duration:2e3})})),t.$router.go(-1)}}))},getPeluqueria:function(t){var e=this;return o()(i.a.mark((function n(){var a,r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.c)(t);case 2:a=n.sent,r=a.data,e.form.client_id=r.items[0].client_id,e.form.pet_id=r.items[0].pet_id;case 6:case"end":return n.stop()}}),n)})))()}}},u=(n("5Lp+"),n("KHd+")),d=Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("el-row",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("router-link",{staticClass:"el-button el-button--primary el-button--small",attrs:{to:"/servicio/peluqueria"}},[n("i",{staticClass:"el-icon-back"})]),t._v(" "),n("span",[t._v("Vacunas")])],1),t._v(" "),n("div",{staticStyle:{padding:"25px 50px 0px 20px"}},[n("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"Propietario",prop:"client_id"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione Cliente...",disabled:""},on:{input:t.getListPet},model:{value:t.form.client_id,callback:function(e){t.$set(t.form,"client_id",e)},expression:"form.client_id"}},t._l(t.optionsClient,(function(t,e){return n("el-option",{key:"al"+e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"Paciente",prop:"pet_id"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione mascota...",disabled:""},model:{value:t.form.pet_id,callback:function(e){t.$set(t.form,"pet_id",e)},expression:"form.pet_id"}},t._l(t.optionsPet,(function(t,e){return n("el-option",{key:"bl"+e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"Tipo Vacuna",prop:"vaccine_id"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Seleccione tipo..."},model:{value:t.form.vaccine_id,callback:function(e){t.$set(t.form,"vaccine_id",e)},expression:"form.vaccine_id"}},t._l(t.optionsVaccine,(function(t,e){return n("el-option",{key:"cl"+e,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"Detalles"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:t.form.vaccine_observation,callback:function(e){t.$set(t.form,"vaccine_observation",e)},expression:"form.vaccine_observation"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("\n              Create\n            ")]),t._v(" "),n("el-button",{on:{click:t.onCancel}},[t._v("\n              Cancel\n            ")])],1)],1)],1)])],1)],1)}),[],!1,null,"7ec6dc44",null);e.default=d.exports}}]);